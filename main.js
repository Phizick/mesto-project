(()=>{"use strict";var e={d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{A:()=>Y});var t=["inactiveButtonClass","errorClass","inputErrorClass"],r=["errorClass","inputErrorClass","inactiveButtonClass","submitButtonSelector"],o=["formSelector"];function n(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},l=Object.keys(e);for(o=0;o<l.length;o++)r=l[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=function(e,t){t.validity.valid?function(e,t,r){var o=r.inputErrorClass,n=r.errorClass,l=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(o),l.classList.remove(n),l.textContent=""}(e,t,Y):function(e,t,r){var o=r.inputErrorClass,n=r.errorClass,l=e.querySelector(".".concat(t.id,"-error"));t.classList.add(o),l.textContent=t.validationMessage,l.classList.add(n)}(e,t,Y)},a=function(e,r,o){var l=o.inactiveButtonClass;o.errorClass,o.inputErrorClass,n(o,t),i(r)?(e.classList.add(l),e.disabled=!0):(e.classList.remove(l),e.disabled=!1)},i=function(e){return e.some((function(e){return!e.validity.valid}))},u=function(e){var t=Y.formSelector,l=n(Y,o);Array.from(e.querySelectorAll(t)).forEach((function(e){!function(e,t){var o=t.errorClass,l=t.inputErrorClass,a=t.inactiveButtonClass,i=t.submitButtonSelector,u=(n(t,r),Array.from(e.querySelectorAll(".".concat(o)))),c=Array.from(e.querySelectorAll(".".concat(l))),s=e.querySelector(i);u.forEach((function(e){e.classList.remove(o)})),c.forEach((function(e){e.classList.remove(l)})),s.disabled=!0,s.classList.add(a)}(e,l),e.reset()}))},c=["inputSelector","submitButtonSelector"];var s=function(e){27==e.keyCode&&y(document.querySelector(".popup_opened"))},p=function(e){!e.target.closest(".popup__container")&!e.target.closest(".image__container")&&y(e.target.closest(".popup"))},f=function(e){e.preventDefault()},d=function(e,t){var r=t.inputSelector,o=t.submitButtonSelector,n=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},l=Object.keys(e);for(o=0;o<l.length;o++)r=l[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(t,c),i=Array.from(e.querySelectorAll(r)),u=e.querySelector(o);e.addEventListener("submit",f),i.forEach((function(t){t.addEventListener("input",(function(){l(e,t),a(u,i,n)}))})),a(u,i,n)},m=function(e){e.classList.add("popup_opened"),e.addEventListener("click",p),document.addEventListener("keydown",s)},y=function(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",s),e.removeEventListener("click",p)},_=["galleryItemClass","galleryImgClass","galleryCardNameClass","galleryLikeClass","galleryLikeStatus","galleryDelButton"];var v=document.querySelector(".gallery__grid"),b=document.querySelector(".gallery__template").content,g=document.querySelector(".popup__img-opened"),S=document.querySelector(".image__container"),x=S.querySelector(".image__opened"),C={galleryItemClass:".gallery__grid-item",galleryImgClass:".gallery__grid-image",galleryCardNameClass:".gallery__grid-name",galleryLikeClass:".gallery__grid-like",galleryLikeStatus:"gallery__grid-like_active",galleryDelButton:".gallery__delete-img-button"},q={cardName:"",cardLink:""},L=function(e){var t=e.cardName,r=e.cardLink,o=C.galleryItemClass,n=C.galleryImgClass,l=C.galleryCardNameClass,a=C.galleryLikeClass,i=C.galleryLikeStatus,u=C.galleryDelButton,c=(function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},l=Object.keys(e);for(o=0;o<l.length;o++)r=l[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}}(C,_),b.querySelector(o).cloneNode(!0)),s=c.querySelector(n);s.src=r,s.alt=t,c.querySelector(l).textContent=t;var p=c.querySelector(u),f=c.querySelector(a);return s.addEventListener("click",(function(){return function(e){var t=e.cardName,r=e.cardLink;x.src=r,x.alt=t,S.querySelector(".image__opened-title").textContent=t,m(g)}(e)})),p.addEventListener("click",(function(){return c.remove()})),f.addEventListener("click",(function(){f.classList.toggle(i)})),c},k=function(e,t){q.cardName="".concat(e),q.cardLink="".concat(t),w(q)},w=function(e){v.prepend(L(e))};[{name:"Стокгольм",link:"https://images.unsplash.com/photo-1630772063386-f363836989cc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=735&q=80"},{name:"Хельсинки",link:"https://images.unsplash.com/photo-1588362993329-325f0ebc7150?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=736&q=80"},{name:"Санкт-Петербург",link:"https://images.unsplash.com/photo-1551709076-89f2499d383b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80"},{name:"Стамбул",link:"https://images.unsplash.com/photo-1622587853578-dd1bf9608d26?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=764&q=80"},{name:"Осло",link:"https://images.unsplash.com/photo-1575624290661-87b16b3d971b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=735&q=80"},{name:"Рига",link:"https://images.unsplash.com/photo-1566297558982-b511b3690b94?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80"}].forEach((function(e){k(e.name,e.link)}));var h,E,O=document.querySelector(".popup__form-profile"),B=document.querySelector(".profile__name-edit"),j=document.querySelector(".popup__profile"),M=document.querySelector(".popup__form-profile"),A=O.querySelector(".popup__input_data_name"),D=O.querySelector(".popup__input_data_about"),H=document.querySelector(".profile__name-text"),G=document.querySelector(".profile__bio"),I=document.querySelector(".profile__add-button"),N=document.querySelector(".popup__img"),P=document.querySelectorAll(".popup__close-button"),V=N.querySelector(".popup__input_data_imgUrl"),W=N.querySelector(".popup__input_data_imgName"),Y={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input-type-error",errorClass:"popup__input-error_active"};B.addEventListener("click",(function(){m(j),u(j),A.value=H.textContent,D.value=G.textContent})),P.forEach((function(e){e.addEventListener("click",(function(){y(e.closest(".popup"))}))})),I.addEventListener("click",(function(){m(N),u(N)})),M.addEventListener("submit",(function(e){e.preventDefault(),H.textContent=A.value,G.textContent=D.value,y(j)})),N.addEventListener("submit",(function(e){e.preventDefault(),k(W.value,V.value),y(N)})),h=Y.formSelector,E=n(Y,["formSelector"]),Array.from(document.querySelectorAll(h)).forEach((function(e){d(e,E)}))})();